---
import { getCollection } from 'astro:content';
import FormattedDate from '../../components/FormattedDate.astro';
import Layout from '../../layouts/Layout.astro'

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.date.valueOf() - a.data.date.valueOf()
);
---
<Layout title="Blog">
	<main>
		<section>
			<ul class="flex flex-col gap-4">
				{
					posts
					.map((post) => (
						<li class="[&_p]:text-jg-charcoal [&_p]:hover:text-jg-teal">
							<a href={`/blog/${post.slug}/`} class="flex justify-between">
								<div class="flex gap-6">
									<p class="">{post.data.title}</p>
									<div class="flex gap-2">
									{
										post.data.tags?.map((tag) => (
											<span class="bg-jg-cream text-jg-smoke px-2 rounded-full text-xs leading-5">#{tag}</span>
										))
									}
									</div>
								</div>
								<p class="[&_*]:text-jg-smoke">
									<FormattedDate date={post.data.date} />
								</p>
							</a>
						</li>
					))
				}
			</ul>
		</section>
	</main>

</Layout>

